{"ast":null,"code":"export function buildVideoCategoriesRequest(){return buildApiRequest('GET','/youtube/v3/videoCategories',{'part':'snippet','regionCode':'US'},null);}export function buildMostPopularVideosRequest(){var amount=arguments.length>0&&arguments[0]!==undefined?arguments[0]:12;var loadDescription=arguments.length>1&&arguments[1]!==undefined?arguments[1]:false;var nextPageToken=arguments.length>2?arguments[2]:undefined;var videoCategoryId=arguments.length>3&&arguments[3]!==undefined?arguments[3]:null;var fields='nextPageToken,prevPageToken,items(contentDetails/duration,id,snippet(channelId,channelTitle,publishedAt,thumbnails/medium,title),statistics/viewCount),pageInfo(totalResults)';if(loadDescription){fields+=',items/snippet/description';}return buildApiRequest('GET','/youtube/v3/videos',{part:'snippet,statistics,contentDetails',chart:'mostPopular',maxResults:amount,regionCode:'US',pageToken:nextPageToken,fields:fields,videoCategoryId:videoCategoryId},null);}export function buildVideoDetailRequest(videoId){return buildApiRequest('GET','/youtube/v3/videos',{part:'snippet,statistics,contentDetails',id:videoId,fields:'kind,items(contentDetails/duration,id,snippet(channelId,channelTitle,description,publishedAt,thumbnails/medium,title),statistics)'},null);}export function buildChannelRequest(channelId){return buildApiRequest('GET','/youtube/v3/channels',{part:'snippet,statistics',id:channelId,fields:'kind,items(id,snippet(description,thumbnails/medium,title),statistics/subscriberCount)'},null);}export function buildCommentThreadRequest(videoId,nextPageToken){return buildApiRequest('GET','/youtube/v3/commentThreads',{part:'id,snippet',pageToken:nextPageToken,videoId:videoId},null);}export function buildSearchRequest(query,nextPageToken){var amount=arguments.length>2&&arguments[2]!==undefined?arguments[2]:12;return buildApiRequest('GET','/youtube/v3/search',{part:'id,snippet',q:query,type:'video',pageToken:nextPageToken,maxResults:amount},null);}export function buildRelatedVideosRequest(videoId){var amountRelatedVideos=arguments.length>1&&arguments[1]!==undefined?arguments[1]:12;return buildApiRequest('GET','/youtube/v3/search',{part:'snippet',type:'video',maxResults:amountRelatedVideos,relatedToVideoId:videoId},null);}/*\n  Util - Youtube API boilerplate code\n */export function buildApiRequest(requestMethod,path,params,properties){params=removeEmptyParams(params);var request;if(properties){var resource=createResource(properties);request=window.gapi.client.request({'body':resource,'method':requestMethod,'path':path,'params':params});}else{request=window.gapi.client.request({'method':requestMethod,'path':path,'params':params});}return request;}function removeEmptyParams(params){for(var p in params){if(!params[p]||params[p]==='undefined'){delete params[p];}}return params;}function createResource(properties){var resource={};var normalizedProps=properties;for(var p in properties){var value=properties[p];if(p&&p.substr(-2,2)==='[]'){var adjustedName=p.replace('[]','');if(value){normalizedProps[adjustedName]=value.split(',');}delete normalizedProps[p];}}for(var prop in normalizedProps){// Leave properties that don't have values out of inserted resource.\nif(normalizedProps.hasOwnProperty(prop)&&normalizedProps[prop]){var propArray=prop.split('.');var ref=resource;for(var pa=0;pa<propArray.length;pa++){var key=propArray[pa];if(pa===propArray.length-1){ref[key]=normalizedProps[prop];}else{ref=ref[key]=ref[key]||{};}}}}return resource;}","map":{"version":3,"sources":["/Users/joan/Documents/Drive/Projects/punithargal.org/api/frontend/src/store/api/youtube-api.js"],"names":["buildVideoCategoriesRequest","buildApiRequest","buildMostPopularVideosRequest","amount","loadDescription","nextPageToken","videoCategoryId","fields","part","chart","maxResults","regionCode","pageToken","buildVideoDetailRequest","videoId","id","buildChannelRequest","channelId","buildCommentThreadRequest","buildSearchRequest","query","q","type","buildRelatedVideosRequest","amountRelatedVideos","relatedToVideoId","requestMethod","path","params","properties","removeEmptyParams","request","resource","createResource","window","gapi","client","p","normalizedProps","value","substr","adjustedName","replace","split","prop","hasOwnProperty","propArray","ref","pa","length","key"],"mappings":"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","sourcesContent":["export function buildVideoCategoriesRequest() {\n  return buildApiRequest('GET',\n    '/youtube/v3/videoCategories',\n    {\n      'part': 'snippet',\n      'regionCode': 'US'\n    }, null);\n}\n\nexport function buildMostPopularVideosRequest(amount = 12, loadDescription = false, nextPageToken, videoCategoryId = null) {\n  let fields = 'nextPageToken,prevPageToken,items(contentDetails/duration,id,snippet(channelId,channelTitle,publishedAt,thumbnails/medium,title),statistics/viewCount),pageInfo(totalResults)';\n  if (loadDescription) {\n    fields += ',items/snippet/description';\n  }\n  return buildApiRequest('GET',\n    '/youtube/v3/videos',\n    {\n      part: 'snippet,statistics,contentDetails',\n      chart: 'mostPopular',\n      maxResults: amount,\n      regionCode: 'US',\n      pageToken: nextPageToken,\n      fields,\n      videoCategoryId,\n    }, null);\n}\n\nexport function buildVideoDetailRequest(videoId) {\n  return buildApiRequest('GET',\n    '/youtube/v3/videos',\n    {\n      part: 'snippet,statistics,contentDetails',\n      id: videoId,\n      fields: 'kind,items(contentDetails/duration,id,snippet(channelId,channelTitle,description,publishedAt,thumbnails/medium,title),statistics)'\n    }, null);\n}\n\nexport function buildChannelRequest(channelId) {\n  return buildApiRequest('GET',\n    '/youtube/v3/channels',\n    {\n      part: 'snippet,statistics',\n      id: channelId,\n      fields: 'kind,items(id,snippet(description,thumbnails/medium,title),statistics/subscriberCount)'\n    }, null);\n}\n\nexport function buildCommentThreadRequest(videoId, nextPageToken) {\n  return buildApiRequest('GET',\n    '/youtube/v3/commentThreads',\n    {\n      part: 'id,snippet',\n      pageToken: nextPageToken,\n      videoId,\n    }, null);\n}\n\nexport function buildSearchRequest(query, nextPageToken, amount = 12) {\n  return buildApiRequest('GET',\n    '/youtube/v3/search',\n    {\n      part: 'id,snippet',\n      q: query,\n      type: 'video',\n      pageToken: nextPageToken,\n      maxResults: amount,\n    }, null);\n}\n\nexport function buildRelatedVideosRequest(videoId, amountRelatedVideos = 12) {\n  return buildApiRequest('GET',\n    '/youtube/v3/search',\n    {\n      part: 'snippet',\n      type: 'video',\n      maxResults: amountRelatedVideos,\n      relatedToVideoId: videoId,\n    }, null);\n}\n\n/*\n  Util - Youtube API boilerplate code\n */\nexport function buildApiRequest(requestMethod, path, params, properties) {\n  params = removeEmptyParams(params);\n  let request;\n  if (properties) {\n    let resource = createResource(properties);\n    request = window.gapi.client.request({\n      'body': resource,\n      'method': requestMethod,\n      'path': path,\n      'params': params\n    });\n  } else {\n    request = window.gapi.client.request({\n      'method': requestMethod,\n      'path': path,\n      'params': params\n    });\n  }\n  return request;\n}\n\nfunction removeEmptyParams(params) {\n  for (var p in params) {\n    if (!params[p] || params[p] === 'undefined') {\n      delete params[p];\n    }\n  }\n  return params;\n}\n\nfunction createResource(properties) {\n  var resource = {};\n  var normalizedProps = properties;\n  for (var p in properties) {\n    var value = properties[p];\n    if (p && p.substr(-2, 2) === '[]') {\n      var adjustedName = p.replace('[]', '');\n      if (value) {\n        normalizedProps[adjustedName] = value.split(',');\n      }\n      delete normalizedProps[p];\n    }\n  }\n  for (var prop in normalizedProps) {\n    // Leave properties that don't have values out of inserted resource.\n    if (normalizedProps.hasOwnProperty(prop) && normalizedProps[prop]) {\n      var propArray = prop.split('.');\n      var ref = resource;\n      for (var pa = 0; pa < propArray.length; pa++) {\n        var key = propArray[pa];\n        if (pa === propArray.length - 1) {\n          ref[key] = normalizedProps[prop];\n        } else {\n          ref = ref[key] = ref[key] || {};\n        }\n      }\n    }\n  }\n  return resource;\n}"]},"metadata":{},"sourceType":"module"}