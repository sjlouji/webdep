{"ast":null,"code":"'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n  value: true\n});\n\nvar _extends = Object.assign || function (target) {\n  for (var i = 1; i < arguments.length; i++) {\n    var source = arguments[i];\n\n    for (var key in source) {\n      if (Object.prototype.hasOwnProperty.call(source, key)) {\n        target[key] = source[key];\n      }\n    }\n  }\n\n  return target;\n};\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Card = require('@material-ui/core/Card');\n\nvar _Card2 = _interopRequireDefault(_Card);\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _event = require('../event');\n\nvar _event2 = _interopRequireDefault(_event);\n\nvar _miniEvent = require('../miniEvent');\n\nvar _miniEvent2 = _interopRequireDefault(_miniEvent);\n\nvar _strings = require('../../resources/values/strings');\n\nrequire('./style.css');\n\nvar _utilities = require('../../resources/utilities');\n\nfunction _interopRequireDefault(obj) {\n  return obj && obj.__esModule ? obj : {\n    default: obj\n  };\n}\n\nvar CalendarItem = function CalendarItem(props) {\n  var eventArray = props.eventArray,\n      tileIndex = props.tileIndex,\n      month = props.month,\n      year = props.year,\n      numTiles = props.numTiles,\n      config = props.config;\n\n  var _displayCalendarNumbe = displayCalendarNumber(month, year, tileIndex, config),\n      isToday = _displayCalendarNumbe.isToday,\n      number = _displayCalendarNumbe.number,\n      notPrimary = _displayCalendarNumbe.notPrimary;\n\n  var _config$colors = config.colors,\n      primaryColor = _config$colors.primaryColor,\n      secondaryColor = _config$colors.secondaryColor;\n  var isMobile = config.isMobile; // Tiles with the week day names need to be longer so that they have the same room as other\n  // tiles. + 2 is the increased height, and the longer formula below maintains a consistent\n  // calendar height despite the alternating number of tiles in each month.\n\n  var tileHeight = tileIndex < 7 ? 100 / (numTiles / 7) + 2 + '%' : 100 / (numTiles / 7) - 2 / (numTiles / 7 - 1) + '%';\n  return _react2.default.createElement(_Card2.default, {\n    elevation: 0,\n    square: true,\n    id: 'tile-' + tileIndex,\n    className: 'calendar-tile',\n    onClick: function onClick(e) {\n      config.onTileClick(e, eventArray);\n    },\n    style: {\n      height: tileHeight,\n      width: 100 / 7 + '%',\n      boxShadow: isToday ? '0 -2px 0 ' + primaryColor : null,\n      outline: !isMobile ? '0.5px solid lightgray' : null\n    }\n  }, _react2.default.createElement('div', {\n    style: {\n      color: isToday ? primaryColor : null\n    }\n  }, _react2.default.createElement('p', {\n    className: 'week-day-headers',\n    style: {\n      color: secondaryColor\n    }\n  }, tileIndex < 7 ? _react2.default.createElement('span', null, !isMobile ? (0, _moment2.default)(tileIndex, 'e').format('dddd') : (0, _moment2.default)(tileIndex, 'e').format('ddd')) : null), _react2.default.createElement('div', {\n    style: {\n      color: notPrimary ? secondaryColor : null\n    }\n  }, !isMobile ? number === 1 ? renderMonthWithTileIndex(month, year, tileIndex, config) + ' ' + number : number : number)), !isMobile ? eventArray.map(function (event, index) {\n    return index < 4 ? displayEventsWithLengths(event, month, year, number, tileIndex, index, eventArray, config) : null;\n  }) : _react2.default.createElement(_miniEvent2.default, {\n    color: primaryColor,\n    eventCount: eventArray.length\n  }));\n};\n\nexports.default = CalendarItem;\n\nfunction renderMonthWithTileIndex(month, year, tileIndex, config) {\n  var currentMonth = (0, _moment2.default)(year + '-' + month + '-01', 'YYYY-M-DD');\n  var numDays = config.numDaysInMonth[month - 1 > 0 ? 11 : month - 1];\n  var offset = getMonthStartOffset(month, year);\n\n  if (tileIndex < numDays - offset) {\n    return currentMonth.format('MMM');\n  } else {\n    return (0, _moment2.default)(year + '-' + (month + 1 > 12 ? 1 : month + 1) + '-01', 'YYYY-M-DD').format('MMM');\n  }\n}\n\nfunction getMonthStartOffset(month, year) {\n  return (0, _moment2.default)(year + '-' + month + '-01', \"YYYY-M-DD\").day();\n}\n\nfunction renderEventWithProps(event, eventType, props) {\n  return _react2.default.createElement(_event2.default, _extends({\n    key: props.id,\n    eventType: eventType,\n    text: event.text,\n    start: event.start,\n    end: event.end,\n    location: event.location\n  }, props));\n}\n\nfunction displayCalendarNumber(month, year, tileIndex, config) {\n  var offset = getMonthStartOffset(month, year);\n  var numDays = config.numDaysInMonth[month - 1];\n  var numDaysInLastMonth = config.numDaysInMonth[month - 2 > 0 ? month - 2 : 0];\n  var today = new Date().getDate();\n  var thisMonth = new Date().getMonth() + 1;\n  var thisYear = new Date().getFullYear();\n  var difference = numDaysInLastMonth - offset + tileIndex + 1;\n\n  if (difference < numDaysInLastMonth + 1) {\n    return {\n      notPrimary: true,\n      isToday: false,\n      number: difference\n    };\n  } else {\n    if (tileIndex - offset + 1 > numDays) {\n      return {\n        notPrimary: true,\n        isToday: false,\n        number: tileIndex - offset + 1 - numDays\n      };\n    } else {\n      return {\n        notPrimary: false,\n        isToday: tileIndex - offset + 1 === today && month === thisMonth && year === thisYear,\n        number: tileIndex - offset + 1\n      };\n    }\n  }\n}\n\nfunction displayEventsWithLengths(event, month, year, calendarNumber, tileIndex, index, eventArray, config) {\n  var offset = getMonthStartOffset(month, year);\n  var numTiles = offset + config.numDaysInMonth[month - 1] > 35 ? 35 + 7 : 35;\n  var tileOverflowOffset = numTiles > 35 ? 1 : 0;\n\n  if (index < 4 - tileOverflowOffset) {\n    var numDaysInLastMonth = config.numDaysInMonth[month - 2 >= 0 ? month - 2 : 11];\n    var numDaysInNextMonth = config.numDaysInMonth[month <= 11 ? month : 0];\n    var numDays = config.numDaysInMonth[month - 1];\n    var argsObject = {\n      numDays: numDays,\n      numDaysInMonth: config.numDaysInMonth,\n      numDaysInLastMonth: numDaysInLastMonth,\n      numDaysInNextMonth: numDaysInNextMonth,\n      offset: offset,\n      month: month,\n      year: year,\n      numTiles: numTiles\n    };\n\n    var _parseEvent = (0, _utilities.parseEvent)(event, argsObject, config),\n        parsedDay = _parseEvent.parsedDay,\n        parsedEnd = _parseEvent.parsedEnd,\n        isBelowEventRange = _parseEvent.isBelowEventRange,\n        isAboveEventRange = _parseEvent.isAboveEventRange;\n\n    var difference = Math.abs(parsedEnd - parsedDay); // If multi-day event has no room to display itself, we will have to hide placeholder events too.\n\n    var cutOff = event.type !== _strings.SINGLE_DAY_TYPE ? 4 - tileOverflowOffset : 5 - tileOverflowOffset;\n    var styleObj = {\n      width: tileIndex === numTiles - 1 ? 100 - 10 + '%' : 100 * difference - 10 + '%',\n      height: 100 / (numTiles / 7),\n      color: event.color ? event.color : config.colors.primaryColor\n    };\n    var eventProps = {\n      id: '' + calendarNumber + index,\n      onClick: function onClick(e) {\n        e.stopPropagation();\n        config.onEventClick(e, event, eventArray);\n      },\n      styleObj: styleObj,\n      tileIndex: tileIndex,\n      numTiles: numTiles\n    };\n\n    if (eventArray.length < cutOff || index !== 3 - tileOverflowOffset) {\n      switch (event.type) {\n        case _strings.MULTI_DAY_TYPE:\n          return renderEventWithProps(event, 'multi-day-event', _extends({\n            showArrowAfter: isAboveEventRange && tileIndex === numTiles - 1,\n            showArrowBefore: isBelowEventRange && tileIndex === 0\n          }, eventProps));\n\n        case _strings.SINGLE_DAY_TYPE:\n          return renderEventWithProps(event, 'single-day-event', eventProps);\n\n        default:\n          return renderEventWithProps(event, 'placeholder-event', eventProps);\n      }\n    } else {\n      return _react2.default.createElement('span', {\n        key: 'plusMore-' + tileIndex,\n        className: 'plus-more',\n        style: {\n          color: config.colors.primaryColor\n        },\n        onClick: function onClick(e) {\n          e.stopPropagation();\n          config.onPlusMoreClick(e, eventArray);\n        }\n      }, '+' + (eventArray.length - index) + ' more');\n    }\n  }\n}","map":{"version":3,"sources":["/Users/joan/Documents/Drive/Projects/punithargal.org/api/frontend/node_modules/@jfschmiechen/react-event-calendar/components/calendarItem/index.js"],"names":["Object","defineProperty","exports","value","_extends","assign","target","i","arguments","length","source","key","prototype","hasOwnProperty","call","_react","require","_react2","_interopRequireDefault","_Card","_Card2","_moment","_moment2","_event","_event2","_miniEvent","_miniEvent2","_strings","_utilities","obj","__esModule","default","CalendarItem","props","eventArray","tileIndex","month","year","numTiles","config","_displayCalendarNumbe","displayCalendarNumber","isToday","number","notPrimary","_config$colors","colors","primaryColor","secondaryColor","isMobile","tileHeight","createElement","elevation","square","id","className","onClick","e","onTileClick","style","height","width","boxShadow","outline","color","format","renderMonthWithTileIndex","map","event","index","displayEventsWithLengths","eventCount","currentMonth","numDays","numDaysInMonth","offset","getMonthStartOffset","day","renderEventWithProps","eventType","text","start","end","location","numDaysInLastMonth","today","Date","getDate","thisMonth","getMonth","thisYear","getFullYear","difference","calendarNumber","tileOverflowOffset","numDaysInNextMonth","argsObject","_parseEvent","parseEvent","parsedDay","parsedEnd","isBelowEventRange","isAboveEventRange","Math","abs","cutOff","type","SINGLE_DAY_TYPE","styleObj","eventProps","stopPropagation","onEventClick","MULTI_DAY_TYPE","showArrowAfter","showArrowBefore","onPlusMoreClick"],"mappings":"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","sourcesContent":["'use strict';\n\nObject.defineProperty(exports, \"__esModule\", {\n    value: true\n});\n\nvar _extends = Object.assign || function (target) { for (var i = 1; i < arguments.length; i++) { var source = arguments[i]; for (var key in source) { if (Object.prototype.hasOwnProperty.call(source, key)) { target[key] = source[key]; } } } return target; };\n\nvar _react = require('react');\n\nvar _react2 = _interopRequireDefault(_react);\n\nvar _Card = require('@material-ui/core/Card');\n\nvar _Card2 = _interopRequireDefault(_Card);\n\nvar _moment = require('moment');\n\nvar _moment2 = _interopRequireDefault(_moment);\n\nvar _event = require('../event');\n\nvar _event2 = _interopRequireDefault(_event);\n\nvar _miniEvent = require('../miniEvent');\n\nvar _miniEvent2 = _interopRequireDefault(_miniEvent);\n\nvar _strings = require('../../resources/values/strings');\n\nrequire('./style.css');\n\nvar _utilities = require('../../resources/utilities');\n\nfunction _interopRequireDefault(obj) { return obj && obj.__esModule ? obj : { default: obj }; }\n\nvar CalendarItem = function CalendarItem(props) {\n    var eventArray = props.eventArray,\n        tileIndex = props.tileIndex,\n        month = props.month,\n        year = props.year,\n        numTiles = props.numTiles,\n        config = props.config;\n\n    var _displayCalendarNumbe = displayCalendarNumber(month, year, tileIndex, config),\n        isToday = _displayCalendarNumbe.isToday,\n        number = _displayCalendarNumbe.number,\n        notPrimary = _displayCalendarNumbe.notPrimary;\n\n    var _config$colors = config.colors,\n        primaryColor = _config$colors.primaryColor,\n        secondaryColor = _config$colors.secondaryColor;\n    var isMobile = config.isMobile;\n\n    // Tiles with the week day names need to be longer so that they have the same room as other\n    // tiles. + 2 is the increased height, and the longer formula below maintains a consistent\n    // calendar height despite the alternating number of tiles in each month.\n\n    var tileHeight = tileIndex < 7 ? 100 / (numTiles / 7) + 2 + '%' : 100 / (numTiles / 7) - 2 / (numTiles / 7 - 1) + '%';\n\n    return _react2.default.createElement(\n        _Card2.default,\n        {\n            elevation: 0,\n            square: true,\n            id: 'tile-' + tileIndex,\n            className: 'calendar-tile',\n            onClick: function onClick(e) {\n                config.onTileClick(e, eventArray);\n            },\n            style: {\n                height: tileHeight,\n                width: 100 / 7 + '%',\n                boxShadow: isToday ? '0 -2px 0 ' + primaryColor : null,\n                outline: !isMobile ? '0.5px solid lightgray' : null\n            }\n        },\n        _react2.default.createElement(\n            'div',\n            { style: { color: isToday ? primaryColor : null } },\n            _react2.default.createElement(\n                'p',\n                { className: 'week-day-headers', style: { color: secondaryColor } },\n                tileIndex < 7 ? _react2.default.createElement(\n                    'span',\n                    null,\n                    !isMobile ? (0, _moment2.default)(tileIndex, 'e').format('dddd') : (0, _moment2.default)(tileIndex, 'e').format('ddd')\n                ) : null\n            ),\n            _react2.default.createElement(\n                'div',\n                { style: { color: notPrimary ? secondaryColor : null } },\n                !isMobile ? number === 1 ? renderMonthWithTileIndex(month, year, tileIndex, config) + ' ' + number : number : number\n            )\n        ),\n        !isMobile ? eventArray.map(function (event, index) {\n            return index < 4 ? displayEventsWithLengths(event, month, year, number, tileIndex, index, eventArray, config) : null;\n        }) : _react2.default.createElement(_miniEvent2.default, { color: primaryColor, eventCount: eventArray.length })\n    );\n};\n\nexports.default = CalendarItem;\n\n\nfunction renderMonthWithTileIndex(month, year, tileIndex, config) {\n    var currentMonth = (0, _moment2.default)(year + '-' + month + '-01', 'YYYY-M-DD');\n    var numDays = config.numDaysInMonth[month - 1 > 0 ? 11 : month - 1];\n    var offset = getMonthStartOffset(month, year);\n\n    if (tileIndex < numDays - offset) {\n        return currentMonth.format('MMM');\n    } else {\n        return (0, _moment2.default)(year + '-' + (month + 1 > 12 ? 1 : month + 1) + '-01', 'YYYY-M-DD').format('MMM');\n    }\n}\n\nfunction getMonthStartOffset(month, year) {\n    return (0, _moment2.default)(year + '-' + month + '-01', \"YYYY-M-DD\").day();\n}\n\nfunction renderEventWithProps(event, eventType, props) {\n    return _react2.default.createElement(_event2.default, _extends({\n        key: props.id,\n        eventType: eventType,\n        text: event.text,\n        start: event.start,\n        end: event.end,\n        location: event.location\n    }, props));\n}\n\nfunction displayCalendarNumber(month, year, tileIndex, config) {\n    var offset = getMonthStartOffset(month, year);\n    var numDays = config.numDaysInMonth[month - 1];\n    var numDaysInLastMonth = config.numDaysInMonth[month - 2 > 0 ? month - 2 : 0];\n\n    var today = new Date().getDate();\n    var thisMonth = new Date().getMonth() + 1;\n    var thisYear = new Date().getFullYear();\n\n    var difference = numDaysInLastMonth - offset + tileIndex + 1;\n\n    if (difference < numDaysInLastMonth + 1) {\n        return {\n            notPrimary: true,\n            isToday: false,\n            number: difference\n        };\n    } else {\n        if (tileIndex - offset + 1 > numDays) {\n            return {\n                notPrimary: true,\n                isToday: false,\n                number: tileIndex - offset + 1 - numDays\n            };\n        } else {\n            return {\n                notPrimary: false,\n                isToday: tileIndex - offset + 1 === today && month === thisMonth && year === thisYear,\n                number: tileIndex - offset + 1\n            };\n        }\n    }\n}\n\nfunction displayEventsWithLengths(event, month, year, calendarNumber, tileIndex, index, eventArray, config) {\n    var offset = getMonthStartOffset(month, year);\n    var numTiles = offset + config.numDaysInMonth[month - 1] > 35 ? 35 + 7 : 35;\n    var tileOverflowOffset = numTiles > 35 ? 1 : 0;\n\n    if (index < 4 - tileOverflowOffset) {\n        var numDaysInLastMonth = config.numDaysInMonth[month - 2 >= 0 ? month - 2 : 11];\n        var numDaysInNextMonth = config.numDaysInMonth[month <= 11 ? month : 0];\n        var numDays = config.numDaysInMonth[month - 1];\n\n        var argsObject = { numDays: numDays,\n            numDaysInMonth: config.numDaysInMonth,\n            numDaysInLastMonth: numDaysInLastMonth,\n            numDaysInNextMonth: numDaysInNextMonth,\n            offset: offset,\n            month: month,\n            year: year,\n            numTiles: numTiles\n        };\n\n        var _parseEvent = (0, _utilities.parseEvent)(event, argsObject, config),\n            parsedDay = _parseEvent.parsedDay,\n            parsedEnd = _parseEvent.parsedEnd,\n            isBelowEventRange = _parseEvent.isBelowEventRange,\n            isAboveEventRange = _parseEvent.isAboveEventRange;\n\n        var difference = Math.abs(parsedEnd - parsedDay);\n\n        // If multi-day event has no room to display itself, we will have to hide placeholder events too.\n        var cutOff = event.type !== _strings.SINGLE_DAY_TYPE ? 4 - tileOverflowOffset : 5 - tileOverflowOffset;\n\n        var styleObj = {\n            width: tileIndex === numTiles - 1 ? 100 - 10 + '%' : 100 * difference - 10 + '%',\n            height: 100 / (numTiles / 7),\n            color: event.color ? event.color : config.colors.primaryColor\n        };\n\n        var eventProps = {\n            id: '' + calendarNumber + index,\n            onClick: function onClick(e) {\n                e.stopPropagation();\n                config.onEventClick(e, event, eventArray);\n            },\n            styleObj: styleObj,\n            tileIndex: tileIndex,\n            numTiles: numTiles\n        };\n\n        if (eventArray.length < cutOff || index !== 3 - tileOverflowOffset) {\n            switch (event.type) {\n                case _strings.MULTI_DAY_TYPE:\n                    return renderEventWithProps(event, 'multi-day-event', _extends({\n                        showArrowAfter: isAboveEventRange && tileIndex === numTiles - 1,\n                        showArrowBefore: isBelowEventRange && tileIndex === 0\n                    }, eventProps));\n\n                case _strings.SINGLE_DAY_TYPE:\n                    return renderEventWithProps(event, 'single-day-event', eventProps);\n\n                default:\n                    return renderEventWithProps(event, 'placeholder-event', eventProps);\n\n            }\n        } else {\n            return _react2.default.createElement(\n                'span',\n                {\n                    key: 'plusMore-' + tileIndex,\n                    className: 'plus-more',\n                    style: { color: config.colors.primaryColor },\n                    onClick: function onClick(e) {\n                        e.stopPropagation();\n                        config.onPlusMoreClick(e, eventArray);\n                    } },\n                '+' + (eventArray.length - index) + ' more'\n            );\n        }\n    }\n}\n"]},"metadata":{},"sourceType":"script"}